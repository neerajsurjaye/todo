(()=>{"use strict";let e=(()=>{let e=[],t=(e,t,d,o)=>({title:e,description:t,dueDate:d,priority:o,status:0}),d=e=>({property:e,todos:[]});return e.push(d("default")),{add_project:t=>{e.push(d(t))},add_todo:(d,o,l,n,r)=>{for(let s=0;s<e.length;s++)e[s].property==d&&e[s].todos.push(t(o,l,n,r))},get_todos:t=>{for(let d=0;d<e.length;d++)if(e[d].property==t)return e[d].todos},get_projList:()=>{let t=[];for(let d=0;d<e.length;d++)t.push(e[d].property);return t},save:()=>{localStorage.setItem("projects",JSON.stringify(e))},load:()=>{JSON.parse(localStorage.getItem("projects"))},projects:e}})(),t=(()=>{let t=e=>{let t=document.getElementById("project-list");console.log("draw proj",e);let d=[];for(var o=0;o<e.length;o++)d.push(document.createElement("div")),d[o].classList.add("project-element"),d[o].textContent=e[o],t.appendChild(d[o])},d=e=>{let t=document.createElement("div");t.classList.add("cls-todo");let d=document.createElement("div");d.textContent=e.title,d.classList.add("title"),t.appendChild(d);let o=document.createElement("div");o.textContent=e.description,t.appendChild(o),o.classList.add("desc");let l=document.createElement("div");l.textContent=e.dueDate,t.appendChild(l),l.classList.add("due-date");let n=document.createElement("div");3==e.priority?n.style.backgroundColor="red":2==e.priority?n.style.backgroundColor="yellow":n.style.backgroundColor="green",t.appendChild(n),n.classList.add("priority");let r=document.createElement("div");return r.classList.add("curr-status"),r.textContent=e.status,t.appendChild(r),t},o=e=>{let t=document.getElementById("projects-add"),d=document.getElementById("todo-add");"add-projects"==e.target.id?t.style.display="flex":"add-todo"==e.target.id&&(d.style.display="flex")},l=e=>{e.target.parentElement.parentElement.style.display="none"},n=()=>{let d=document.getElementById("input-project");e.add_project(d.value),document.getElementById("project-list").innerHTML="",t(e.get_projList()),d.parentElement.parentElement.style.display="none"};return{draw_project:t,draw_todos:e=>{let t=document.getElementById("todos"),o=[];for(var l=0;l<e.length;l++)o.push(d(e[l])),t.appendChild(o[l])},init:()=>{(()=>{let e=document.getElementById("add-projects"),t=document.getElementById("add-todo");e.addEventListener("click",o),t.addEventListener("click",o)})(),(()=>{let e=document.getElementsByClassName("close");for(var t=0;t<e.length;t++)e[t].addEventListener("click",l)})(),document.getElementById("submit-projects").addEventListener("click",n)}}})();e.add_project("second"),e.add_todo("second","list",324,234,0),e.add_todo("second","asdf",324,234,0),e.add_todo("second","asdfsda",324,234,2),e.get_todos("second"),e.get_projList(),e.load(),t.init(),t.draw_project(e.get_projList()),t.draw_todos(e.get_todos("second"))})();