(()=>{"use strict";let t=(()=>{let t=[],e=(t,e,d,o)=>({title:t,description:e,dueDate:d,priority:o,status:0}),d=t=>({property:t,todos:[]});return t.push(d("default")),{add_project:e=>{t.push(d(e))},add_todo:(d,o,l,s,r)=>{for(let n=0;n<t.length;n++)t[n].property==d&&t[n].todos.push(e(o,l,s,r))},get_todos:e=>{for(let d=0;d<t.length;d++)if(t[d].property==e)return t[d].todos},get_projList:()=>{let e=[];for(let d=0;d<t.length;d++)e.push(t[d].property);return e},save:()=>{localStorage.setItem("projects",JSON.stringify(t))},load:()=>{JSON.parse(localStorage.getItem("projects"))}}})(),e=(()=>{let t=t=>{let e=document.createElement("div");e.classList.add("cls-todo");let d=document.createElement("div");d.textContent=t.title,d.classList.add("title"),e.appendChild(d);let o=document.createElement("div");o.textContent=t.description,e.appendChild(o),o.classList.add("desc");let l=document.createElement("div");l.textContent=t.dueDate,e.appendChild(l),l.classList.add("due-date");let s=document.createElement("div");3==t.priority?s.style.backgroundColor="red":2==t.priority?s.style.backgroundColor="yellow":s.style.backgroundColor="green",e.appendChild(s),s.classList.add("priority");let r=document.createElement("div");return r.classList.add("curr-status"),r.textContent=t.status,e.appendChild(r),e},e=t=>{let e=document.getElementById("projects-add"),d=document.getElementById("todo-add");"add-projects"==t.target.id?e.style.display="flex":"add-todo"==t.target.id&&(d.style.display="flex")};return{draw_project:t=>{let e=document.getElementById("project-list"),d=[];for(var o=0;o<t.length;o++)d.push(document.createElement("div")),d[o].classList.add("project-element"),d[o].textContent=t[o],e.appendChild(d[o])},draw_todos:e=>{let d=document.getElementById("todos"),o=[];for(var l=0;l<e.length;l++)o.push(t(e[l])),d.appendChild(o[l])},init:()=>{(()=>{let t=document.getElementById("add-projects"),d=document.getElementById("add-todo");t.addEventListener("click",e),d.addEventListener("click",e)})(),(()=>{let t=document.getElementsByClassName("close");for(var e=0;e<t.length;e++)t[e].addEventListener("click",close_form)})()}}})();t.add_project("second"),t.add_todo("second","list",324,234,0),t.add_todo("second","asdf",324,234,0),t.add_todo("second","asdfsda",324,234,2),t.get_todos("second"),t.get_projList(),t.load(),e.init(),e.draw_project(t.get_projList()),e.draw_todos(t.get_todos("second"))})();